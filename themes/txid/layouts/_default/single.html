{{ define "main" }}
<article class="max-w-3xl mx-auto px-4 sm:px-6 py-12">
  <!-- Article Header -->
  <header class="mb-10">
    <div class="flex items-center gap-2 mb-4">
      {{ range .Params.tags }}
      <span class="text-xs px-2 py-0.5 rounded-full bg-gray-800 text-gray-400">{{ . }}</span>
      {{ end }}
      {{ with .Params.levels }}
      <span class="text-xs px-2 py-0.5 rounded-full bg-bitcoin/10 text-bitcoin">{{ . }}</span>
      {{ end }}
    </div>
    <h1 class="text-3xl sm:text-4xl font-bold text-white leading-tight">{{ .Title }}</h1>
    {{ with .Description }}
    <p class="mt-3 text-lg text-gray-400">{{ . }}</p>
    {{ end }}
    {{ if .Date.IsZero | not }}
    <time class="block mt-4 text-sm text-gray-600">{{ .Date.Format "2006.01.02" }}</time>
    {{ end }}
  </header>

  <!-- Content -->
  <div class="prose prose-invert prose-gray max-w-none
    prose-headings:text-white prose-headings:font-semibold
    prose-h2:text-2xl prose-h2:mt-10 prose-h2:mb-4
    prose-h3:text-xl prose-h3:mt-8 prose-h3:mb-3
    prose-p:text-gray-300 prose-p:leading-relaxed
    prose-a:text-bitcoin prose-a:no-underline hover:prose-a:underline
    prose-strong:text-white
    prose-blockquote:border-bitcoin prose-blockquote:text-gray-400
    prose-code:text-bitcoin prose-code:bg-gray-900 prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded
    prose-li:text-gray-300
    prose-img:rounded-xl">
    {{ .Content }}
  </div>

  <!-- Navigation (Hugo's Prev/Next are reverse of weight order, so swap them) -->
  <nav class="mt-16 pt-8 border-t border-gray-800/50 flex justify-between gap-4">
    {{ with .NextInSection }}
    <a href="{{ .Permalink }}" class="group flex-1 p-4 rounded-lg border border-gray-800/50 hover:border-gray-700/50 transition-all">
      <span class="text-xs text-gray-600 block mb-1">← 이전</span>
      <span class="text-sm text-gray-400 group-hover:text-white transition-colors">{{ .Title }}</span>
    </a>
    {{ else }}<div class="flex-1"></div>{{ end }}
    {{ with .PrevInSection }}
    <a href="{{ .Permalink }}" class="group flex-1 p-4 rounded-lg border border-gray-800/50 hover:border-gray-700/50 transition-all text-right">
      <span class="text-xs text-gray-600 block mb-1">다음 →</span>
      <span class="text-sm text-gray-400 group-hover:text-white transition-colors">{{ .Title }}</span>
    </a>
    {{ else }}<div class="flex-1"></div>{{ end }}
  </nav>
</article>
{{ end }}
