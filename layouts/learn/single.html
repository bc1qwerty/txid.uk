{{ define "main" }}
<div class="max-w-3xl mx-auto px-4 sm:px-6 py-12">
  <!-- Breadcrumb -->
  <nav class="mb-6 text-sm text-gray-600" aria-label="breadcrumb">
    <a href="/" class="hover:text-gray-400 transition-colors">홈</a>
    <span class="mx-1.5">/</span>
    <a href="/learn/" class="hover:text-gray-400 transition-colors">공부방</a>
    <span class="mx-1.5">/</span>
    <span class="text-gray-500">{{ .Title }}</span>
  </nav>

  <!-- Header -->
  <header class="mb-12">
    <div class="flex items-center gap-3 mb-4">
      {{ with .Params.icon }}<span class="text-3xl">{{ . }}</span>{{ end }}
      <h1 class="text-3xl sm:text-4xl font-bold text-white leading-tight">{{ .Title }}</h1>
    </div>
    {{ with .Description }}
    <p class="text-lg text-gray-400">{{ . }}</p>
    {{ end }}
    <p class="mt-3 text-sm text-gray-600">{{ len .Params.steps }}단계 · 약 {{ .Params.duration }}</p>
  </header>

  {{ with .Content }}
  <div class="article-prose mb-12">
    {{ . }}
  </div>
  {{ end }}

  <!-- Learning Path Steps -->
  <div class="relative">
    <!-- Vertical line -->
    <div class="absolute left-5 top-0 bottom-0 w-px bg-gray-800"></div>

    {{ range $i, $step := .Params.steps }}
    <div class="relative pl-14 pb-10 {{ if eq $i (sub (len $.Params.steps) 1) }}pb-0{{ end }}">
      <!-- Step number circle -->
      <div class="absolute left-0 w-10 h-10 rounded-full bg-gray-900 border-2 border-bitcoin/50 flex items-center justify-center z-10">
        <span class="text-sm font-bold text-bitcoin">{{ add $i 1 }}</span>
      </div>

      <!-- Step card -->
      <a href="{{ $step.url }}" class="block p-5 rounded-xl border border-gray-800/50 hover:border-bitcoin/30 bg-gray-900/30 hover:bg-gray-900/60 transition-all group">
        <h3 class="text-lg font-semibold text-white group-hover:text-bitcoin transition-colors mb-1">
          {{ $step.title }}
        </h3>
        <p class="text-sm text-gray-500">{{ $step.summary }}</p>
      </a>
    </div>
    {{ end }}
  </div>

  <!-- Next path suggestion -->
  {{ with .Params.next_path }}
  <div class="mt-16 pt-8 border-t border-gray-800/50">
    <p class="text-sm text-gray-600 mb-3">다음 추천 경로</p>
    <a href="{{ .url }}" class="inline-flex items-center gap-2 text-bitcoin hover:underline font-medium">
      {{ .title }}
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
      </svg>
    </a>
  </div>
  {{ end }}
</div>
{{ end }}
